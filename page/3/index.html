<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>私人海域</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="温和安静 爱我所爱">
<meta property="og:type" content="website">
<meta property="og:title" content="私人海域">
<meta property="og:url" content="http://yluy.gitee.io/page/3/index.html">
<meta property="og:site_name" content="私人海域">
<meta property="og:description" content="温和安静 爱我所爱">
<meta property="og:locale">
<meta property="article:author" content="Sonata">
<meta property="article:tag" content="test">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="私人海域" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  
<link rel="stylesheet" href="/css/style.css">

<meta name="generator" content="Hexo 6.3.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">私人海域</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yluy.gitee.io"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-GauGAN代码解读" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2021/07/28/GauGAN%E4%BB%A3%E7%A0%81%E8%A7%A3%E8%AF%BB/" class="article-date">
  <time datetime="2021-07-28T09:20:56.000Z" itemprop="datePublished">2021-07-28</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/">深度学习</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2021/07/28/GauGAN%E4%BB%A3%E7%A0%81%E8%A7%A3%E8%AF%BB/">GauGAN代码解读</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="gaugan简介"><a class="markdownIt-Anchor" href="#gaugan简介"></a> GauGAN简介</h2>
<p>自从英伟达提出了GauGAN，各大平台发表的论文解析铺天盖地，估计感兴趣的朋友也已经了解过了。<br />
该模型可以将一张语义图（分割里的semantic mask）生成相应的一张真实图，下图的第一行是输入，不同的颜色代表不同的语义类别，第二行到第三行是生成的真实图像，其中每一行对应一种风格，每行最左边的图例为风格样式。</p>
<p><img src="https://tva1.sinaimg.cn/large/008i3skNly1gsr4huf3imj30nv0btdib.jpg" alt="" /></p>
<p>作者假设，如果语义图输入单个类别，那么一整张图都是同一个数，在经过InstanceNorm之后会输出0（按说应该是个固定的bias），语义信息完全丢失。</p>
<p>因此作者提出了**SPADE（SPatially-Adaptive (DE)normalization）**方法，通过SPADE使用语义图来调整normalization输出的结果，使其更好的具有语义信息，并将语义信息贯穿整个网络。并且其方法可以应对各种使用语义图的生成任务。</p>
<p>那么我们今天就来解读GanGAN代码，并使用相关数据集进行实验。</p>
<h2 id="代码解读"><a class="markdownIt-Anchor" href="#代码解读"></a> 代码解读</h2>
<h3 id="环境配置"><a class="markdownIt-Anchor" href="#环境配置"></a> 环境配置</h3>
<p>将SPADE代码克隆至本地，考虑到一些地区的网络可能不太好，提供一个加速通道：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone https://github.com.cnpmjs.org/NVlabs/SPADE.git</span><br></pre></td></tr></table></figure>
<p>进入目录，根据命令行安装依赖和归一化分支：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 安装依赖</span></span><br><span class="line">cd SPADE/</span><br><span class="line">pip install -r requirements.txt</span><br><span class="line"><span class="comment"># Synchronized BatchNorm</span></span><br><span class="line">cd models/networks/</span><br><span class="line">git clone https://github.com/vacancy/Synchronized-BatchNorm-PyTorch</span><br><span class="line">cp -rf Synchronized-BatchNorm-PyTorch/sync_batchnorm .</span><br><span class="line">cd ../../</span><br></pre></td></tr></table></figure>
<h3 id="数据集ade20k准备"><a class="markdownIt-Anchor" href="#数据集ade20k准备"></a> 数据集ADE20K准备</h3>
<p><strong>下载地址</strong>：<a target="_blank" rel="noopener" href="https://gas.graviti.cn/dataset/shannont/ADE20K">https://gas.graviti.cn/dataset/shannont/ADE20K</a></p>
<p><img src="https://tva1.sinaimg.cn/large/008i3skNly1gsr94mjnr1j31fq0imjvs.jpg" alt="" /></p>
<p><strong>数据规模</strong>：</p>
<ul>
<li>训练集：25574；验证集：2K；测试集：3K</li>
<li>内容：365个场景；3688个类别。</li>
</ul>
<p>ADE20K 的数据集，可用于场景感知、解析、分割、多物体识别和语义理解。</p>
<p>图像涵盖了SUN和Places数据集中的场景，官网可视化给出了目标、部件和注释示例的数量的列表。</p>
<p>树状表只展示了带有超过 250 个注解示例的目标，以及带有超过 10 个注解示例的部件。</p>
<p><a target="_blank" rel="noopener" href="https://tva1.sinaimg.cn/large/008i3skNly1gq0eab53lfj30l6048dgf.jpg"><img src="https://tva1.sinaimg.cn/large/008i3skNly1gq0eab53lfj30l6048dgf.jpg" alt="img" /></a></p>
<p>一些类别可以既是目标，也是部件。例如，一个「门」可以是一个目标（在一张室内图片中）或者一个部件（当它是车的一个门时）。一些目标经常是部件（比如一条腿、一只手），尽管在某些情况下它们看起来与整体是相互独立的（比如车库中的汽车轮子）。</p>
<p>而有些目标则永远不是部件（比如一个人，一辆卡车等等）。依据于部件所属的目标，相同的名称类别（比如门）可对应于若干个视觉范畴。例如，一个汽车的门从视觉上看是不同于一个橱柜的门的。然而它们也共享一些相似的可供性（affordance）。</p>
<p>当目标不是另一个目标的一个部件时，其分割掩码将出现在 * _seg.png 内。</p>
<p>如果分类是一个部件，则分割掩码将出现在 * _seg_parts.png 内。正确检测目标需要区分目标是否表现为独立目标，或者是否是另一目标的一个部件。</p>
<p><a target="_blank" rel="noopener" href="https://tva1.sinaimg.cn/large/008i3skNly1gq0egidnxkj30od0b1n08.jpg"><img src="https://tva1.sinaimg.cn/large/008i3skNly1gq0egidnxkj30od0b1n08.jpg" alt="img" /></a></p>
<h3 id="代码结构"><a class="markdownIt-Anchor" href="#代码结构"></a> 代码结构</h3>
<p>官方提供的代码结构如下：</p>
<p><img src="https://tva1.sinaimg.cn/large/008i3skNly1gsr57oapcnj31c80bwgo3.jpg" alt="" /></p>
<ul>
<li>
<p><code>data</code>：实现数据加载</p>
<p><code>base_dataset.py</code>是最底层的数据结构，它继承pytorch的data.Dataset类建立一个BaseDataset类，定义了get_params，get_transform等等一些函数，方便之后的使用。</p>
<p><code>pix2pix_dataset.py</code>创建了一个Pix2pixDataset类，继承了BaseDataset类，这个类才是这个工程基本的数据类型，它重写了<code>getitem()</code>函数，这个函数返回一个input_dict的字典，索引包括<code>label，instance，image，path</code></p>
<p>其他的.py文件都是自定义的数据集的类(ADE20K，coco等等)。</p>
</li>
<li>
<p><code>options</code>：定义命令行参数，<code>base_options.py</code>定义公共的命令行参数，<code>train_options.py</code>和<code>test_options.py</code>分别定义训练和测试的命令行参数。</p>
<p><code>base_options.py</code>中包括一些在自定义数据集中比较重要的参数：<code>label_nc</code>为输入标签数量，<code>contain_dontcare_label</code>是否包含不需要的标签。<code>use_vae</code>是否加入风格控制，<code>no_instance</code>训练过程是否加入实例。</p>
</li>
<li>
<p><code>model</code>：该文件夹下的<code>network</code>定义了模型的各个部分</p>
<p><code>normalization.py</code>文件内定义了SPADE归一化层，为了方便实用，也创建了不使用SPADE的结构，同时定义了VGG19结构。</p>
<p><code>base_network.py</code>定义基本的网络架构，后面的所有网络类型都是继承它得到的，它的功能包括打印网络的结构，初始化各个参数。</p>
</li>
</ul>
<h3 id="训练新模型"><a class="markdownIt-Anchor" href="#训练新模型"></a> 训练新模型</h3>
<p>如果是使用作者文档中提到的数据集，可以使用下面这行代码进行训练：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">python train.py --name [experiment_name] --dataset_mode facades --dataroot [path_to_facades_dataset]</span><br><span class="line"></span><br><span class="line">python train.py --name [experiment_name] --dataset_mode coco --dataroot [path_to_coco_dataset]</span><br></pre></td></tr></table></figure>
<p>其中<code>experiment_name</code>是自定义的名称，<code>dataroot</code>后接数据集的路径。</p>
<p>由于ade20k的数据集比较大，我也会使用小型一点的ade20k_outdoor进行训练。将ade20k_outdoor数据集存储在datasets文件夹下。</p>
<p><img src="https://tva1.sinaimg.cn/large/008i3skNly1gsr8supkedj30j301uglj.jpg" alt="" /></p>
<p>自定义数据集可以参考使用此段命令：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python train.py --name ade_outdoor --dataset_mode custom --label_dir ./datasets/ade20k_outdoor/train_label --image_dir ./datasets/ade20k_outdoor/train_img --label_nc <span class="number">300</span> --contain_dontcare_label</span><br></pre></td></tr></table></figure>
<p>完成后在checkpoints中将看到保存好的训练模型，终端打印出<code>Training was successfully finished</code>。</p>
<h3 id="测试模型"><a class="markdownIt-Anchor" href="#测试模型"></a> 测试模型</h3>
<p>接下来你可以使用刚刚训练好的模型进行测试，<code>name_of_experiment</code>是上面自定义的名称，</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python test.py --name [name_of_experiment] --dataset_mode [dataset_mode] --dataroot [path_to_dataset]</span><br></pre></td></tr></table></figure>
<p>自定义数据集使用下面这行：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python test.py --name [name_of_experiment] --dataset_mode custom --label_dir ./datasets/ade20k_outdoor/val_label --image_dir ./datasets/ade20k_outdoor/val_img --label_nc <span class="number">300</span> --contain_dontcare_label</span><br></pre></td></tr></table></figure>
<p>输出结果将默认保存至<code>results</code>文件夹。</p>
<p><img src="https://tva1.sinaimg.cn/large/008i3skNly1gsr8tnf66uj30k702v74e.jpg" alt="" /></p>
<h3 id="结果分析"><a class="markdownIt-Anchor" href="#结果分析"></a> 结果分析</h3>
<p>下面展示一下借助GauGAN由标签图生成真实图像的结果：</p>
<p><img src="https://tva1.sinaimg.cn/large/008i3skNly1gsr8z0ayjhj31960mc0wg.jpg" alt="" /></p>
<p>从生成结果及作者提供的实验结果来看，本文方法有更好的视觉效果，artifact也相对比较少。可以认为，SPADE的效果好主要还是更好的保留了语义图中的语义信息的。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yluy.gitee.io/2021/07/28/GauGAN%E4%BB%A3%E7%A0%81%E8%A7%A3%E8%AF%BB/" data-id="clkqxrnod000j1fj4414wesr8" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E7%AE%80%E5%8D%95/" rel="tag">简单</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-PCA原理与numpy实现" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2021/07/28/PCA%E5%8E%9F%E7%90%86%E4%B8%8Enumpy%E5%AE%9E%E7%8E%B0/" class="article-date">
  <time datetime="2021-07-28T09:09:28.000Z" itemprop="datePublished">2021-07-28</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/">机器学习</a>►<a class="article-category-link" href="/categories/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E7%AE%97%E6%B3%95%E5%8E%9F%E7%90%86/">算法原理</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2021/07/28/PCA%E5%8E%9F%E7%90%86%E4%B8%8Enumpy%E5%AE%9E%E7%8E%B0/">PCA原理与numpy实现</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="pca基本原理"><a class="markdownIt-Anchor" href="#pca基本原理"></a> PCA基本原理</h2>
<h3 id="数据降维"><a class="markdownIt-Anchor" href="#数据降维"></a> 数据降维</h3>
<p>当数据维度或特征变量的数量过大时，极有可能造成<strong>维数灾难</strong>，导致计算成本上升。而在实际应用中提取出的有用信息并不需要那么高的维度。</p>
<p>因此本文将介绍一种极其常见的降维方法：主成分分析（Principal Component Analysis， PCA）。</p>
<h3 id="主成分分析"><a class="markdownIt-Anchor" href="#主成分分析"></a> 主成分分析</h3>
<p>在主成分分析中，数据从原来的坐标系转换到新的坐标系中，尽可能减少信息冗余，新坐标系的选择是由数据本身决定的。</p>
<p>通常来说，第一个新坐标轴选择的是原始数据中<strong>方差最大</strong>的方向，对应的特征向量作为一个主成分。第二个新坐标轴的选择和第一个坐标轴正交且具有最大方差的方向，对应的特征向量作为另一个主成分。该过程一直重复，重复次数为原始数据中特征的数目。</p>
<p>注意，得到的不同轴之间是<strong>不相关的</strong>（即协方差为0）。此时新空间的维度小于原来的空间，所以把数据投影到新的空间后，尽可能地保留了原始数据集的信息，又大大降低数据的复杂度。</p>
<p>正如下面这张图，把二维数据降维到了一维空间中的一条线上，此时方差最大。</p>
<p><img src="https://tva1.sinaimg.cn/large/008i3skNly1gsqqcw97e8j60bc08qjrc02.jpg" alt="" /></p>
<p>那么，这些主成分应该如何求出呢？一个矩阵的主成分是它协方差矩阵的特征向量，特征值的大小则能表明该成分的重要性，因此关键还是协方差矩阵。</p>
<h4 id="协方差矩阵"><a class="markdownIt-Anchor" href="#协方差矩阵"></a> 协方差矩阵</h4>
<p>协方差可以用来衡量两个变量之间的相关程度。当变量不相关时，协方差为0，正负号表示两变量之间呈正相关或负相关。其计算公式如下：</p>
<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>c</mi><mi>o</mi><mi>v</mi><mo stretchy="false">(</mo><mi>X</mi><mo separator="true">,</mo><mi>Y</mi><mo stretchy="false">)</mo><mo>=</mo><munderover><mo>∑</mo><mi>i</mi><mi>n</mi></munderover><mfrac><mrow><mo stretchy="false">(</mo><msub><mi>X</mi><mi>i</mi></msub><mo>−</mo><mover accent="true"><mi>X</mi><mo>ˉ</mo></mover><mo stretchy="false">)</mo><mo stretchy="false">(</mo><msub><mi>Y</mi><mi>i</mi></msub><mo>−</mo><mover accent="true"><mi>Y</mi><mo>ˉ</mo></mover><mo stretchy="false">)</mo></mrow><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow></mfrac></mrow><annotation encoding="application/x-tex">cov(X,Y) = \sum^n _i\frac {(X_i - \bar{X})(Y_i - \bar{Y})}{n-1}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">c</span><span class="mord mathdefault">o</span><span class="mord mathdefault" style="margin-right:0.03588em;">v</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.22222em;">Y</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.929066em;vertical-align:-1.277669em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.6513970000000002em;"><span style="top:-1.872331em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span><span style="top:-3.050005em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3000050000000005em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.277669em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.49711em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">1</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mopen">(</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8201099999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.16666em;">ˉ</span></span></span></span></span></span><span class="mclose">)</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.22222em;">Y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.22222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8201099999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.22222em;">Y</span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.25em;">ˉ</span></span></span></span></span></span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.7693300000000001em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p>
<p>其中<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mover accent="true"><mi>X</mi><mo>ˉ</mo></mover></mrow><annotation encoding="application/x-tex">\bar{X}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8201099999999999em;vertical-align:0em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8201099999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.16666em;">ˉ</span></span></span></span></span></span></span></span></span>与<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mover accent="true"><mi>Y</mi><mo>ˉ</mo></mover></mrow><annotation encoding="application/x-tex">\bar{Y}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8201099999999999em;vertical-align:0em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8201099999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.22222em;">Y</span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.25em;">ˉ</span></span></span></span></span></span></span></span></span>为矩阵均值，每个变量都减去它的均值。</p>
<p>若将所有变量两两求协方差，可得到一个协方差矩阵。一个包含3个特征的协方差矩阵如下：</p>
<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>C</mi><mo>=</mo><mrow><mo fence="true">[</mo><mtable rowspacing="0.15999999999999992em" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>c</mi><mi>o</mi><mi>v</mi><mo stretchy="false">(</mo><msub><mi>x</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>x</mi><mn>1</mn></msub><mo stretchy="false">)</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>c</mi><mi>o</mi><mi>v</mi><mo stretchy="false">(</mo><msub><mi>x</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>x</mi><mn>2</mn></msub><mo stretchy="false">)</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>c</mi><mi>o</mi><mi>v</mi><mo stretchy="false">(</mo><msub><mi>x</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>x</mi><mn>3</mn></msub><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>c</mi><mi>o</mi><mi>v</mi><mo stretchy="false">(</mo><msub><mi>x</mi><mn>2</mn></msub><mo separator="true">,</mo><msub><mi>x</mi><mn>1</mn></msub><mo stretchy="false">)</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>c</mi><mi>o</mi><mi>v</mi><mo stretchy="false">(</mo><msub><mi>x</mi><mn>2</mn></msub><mo separator="true">,</mo><msub><mi>x</mi><mn>2</mn></msub><mo stretchy="false">)</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>c</mi><mi>o</mi><mi>v</mi><mo stretchy="false">(</mo><msub><mi>x</mi><mn>2</mn></msub><mo separator="true">,</mo><msub><mi>x</mi><mn>3</mn></msub><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>c</mi><mi>o</mi><mi>v</mi><mo stretchy="false">(</mo><msub><mi>x</mi><mn>3</mn></msub><mo separator="true">,</mo><msub><mi>x</mi><mn>1</mn></msub><mo stretchy="false">)</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>c</mi><mi>o</mi><mi>v</mi><mo stretchy="false">(</mo><msub><mi>x</mi><mn>3</mn></msub><mo separator="true">,</mo><msub><mi>x</mi><mn>2</mn></msub><mo stretchy="false">)</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>c</mi><mi>o</mi><mi>v</mi><mo stretchy="false">(</mo><msub><mi>x</mi><mn>3</mn></msub><mo separator="true">,</mo><msub><mi>x</mi><mn>3</mn></msub><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow></mrow><annotation encoding="application/x-tex">C = \begin{bmatrix} cov(x_1, x_1) &amp; cov(x_1, x_2) &amp; cov(x_1, x_3) \\ cov(x_2, x_1) &amp; cov(x_2, x_2) &amp; cov(x_2, x_3) \\ cov(x_3, x_1) &amp; cov(x_3, x_2) &amp; cov(x_3, x_3) \end{bmatrix}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:3.60004em;vertical-align:-1.55002em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05002em;"><span style="top:-2.2500000000000004em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎣</span></span></span><span style="top:-4.05002em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎡</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55002em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">c</span><span class="mord mathdefault">o</span><span class="mord mathdefault" style="margin-right:0.03588em;">v</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">c</span><span class="mord mathdefault">o</span><span class="mord mathdefault" style="margin-right:0.03588em;">v</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">c</span><span class="mord mathdefault">o</span><span class="mord mathdefault" style="margin-right:0.03588em;">v</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">c</span><span class="mord mathdefault">o</span><span class="mord mathdefault" style="margin-right:0.03588em;">v</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">c</span><span class="mord mathdefault">o</span><span class="mord mathdefault" style="margin-right:0.03588em;">v</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">c</span><span class="mord mathdefault">o</span><span class="mord mathdefault" style="margin-right:0.03588em;">v</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">c</span><span class="mord mathdefault">o</span><span class="mord mathdefault" style="margin-right:0.03588em;">v</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">c</span><span class="mord mathdefault">o</span><span class="mord mathdefault" style="margin-right:0.03588em;">v</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">c</span><span class="mord mathdefault">o</span><span class="mord mathdefault" style="margin-right:0.03588em;">v</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05002em;"><span style="top:-2.2500000000000004em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎦</span></span></span><span style="top:-4.05002em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎤</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55002em;"><span></span></span></span></span></span></span></span></span></span></span></span></p>
<p>若矩阵大小为<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>M</mi><mo>×</mo><mi>N</mi></mrow><annotation encoding="application/x-tex">M \times N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.76666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">M</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span></span></span></span>，其中<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>M</mi></mrow><annotation encoding="application/x-tex">M</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">M</span></span></span></span>为样本数，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span></span></span></span>为特征数量，对于下面这个数据集而言，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>M</mi><mo>=</mo><mn>4</mn><mo separator="true">,</mo><mi>N</mi><mo>=</mo><mn>3</mn></mrow><annotation encoding="application/x-tex">M=4, N=3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">M</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8777699999999999em;vertical-align:-0.19444em;"></span><span class="mord">4</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">3</span></span></span></span>。</p>
<table>
<thead>
<tr>
<th>长</th>
<th>宽</th>
<th>高</th>
</tr>
</thead>
<tbody>
<tr>
<td>5</td>
<td>3</td>
<td>2</td>
</tr>
<tr>
<td>6</td>
<td>2</td>
<td>1</td>
</tr>
<tr>
<td>4</td>
<td>3</td>
<td>4</td>
</tr>
<tr>
<td>8</td>
<td>4</td>
<td>3</td>
</tr>
</tbody>
</table>
<p>简单计算得长宽高的均值分别为<code>6.5, 2.5, 3.5</code>，接着我们可以计算得到<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>3</mn><mo>×</mo><mn>3</mn></mrow><annotation encoding="application/x-tex">3\times3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">3</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">3</span></span></span></span>的协方差矩阵：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">a = np.array([[<span class="number">5</span>, <span class="number">3</span>, <span class="number">2</span>], [<span class="number">6</span>, <span class="number">2</span>, <span class="number">1</span>], [<span class="number">4</span>, <span class="number">3</span>, <span class="number">4</span>], [<span class="number">8</span>, <span class="number">4</span>, <span class="number">3</span>]])</span><br><span class="line"><span class="built_in">print</span>(np.cov(a.T))   <span class="comment"># np.cov()计算协方差矩阵</span></span><br><span class="line"><span class="comment"># 输出</span></span><br><span class="line">[[ <span class="number">2.91666667</span>  <span class="number">0.66666667</span> -<span class="number">0.5</span>       ]</span><br><span class="line"> [ <span class="number">0.66666667</span>  <span class="number">0.66666667</span>  <span class="number">0.66666667</span>]</span><br><span class="line"> [-<span class="number">0.5</span>         <span class="number">0.66666667</span>  <span class="number">1.66666667</span>]]</span><br></pre></td></tr></table></figure>
<h4 id="特征值与特征向量"><a class="markdownIt-Anchor" href="#特征值与特征向量"></a> 特征值与特征向量</h4>
<p>前面提到，主成分是<strong>协方差矩阵的特征向量</strong>，而特征值越大，表明该成分的方差越大。</p>
<p>线性代数中，设<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">A</span></span></span></span>为矩阵，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>v</mi></mrow><annotation encoding="application/x-tex">v</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">v</span></span></span></span>为特征向量，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>λ</mi></mrow><annotation encoding="application/x-tex">\lambda</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">λ</span></span></span></span>为特征值，此公式体现出了三者之间的关系：</p>
<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>A</mi><mover accent="true"><mi>v</mi><mo stretchy="true">→</mo></mover><mo>=</mo><mi>λ</mi><mover accent="true"><mi>v</mi><mo stretchy="true">→</mo></mover></mrow><annotation encoding="application/x-tex">A \overrightarrow{v} = \lambda \overrightarrow{v}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9525600000000001em;vertical-align:0em;"></span><span class="mord mathdefault">A</span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9525600000000001em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">v</span></span></span><span class="svg-align" style="top:-3.43056em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="height:0.522em;min-width:0.888em;"><svg width='400em' height='0.522em' viewBox='0 0 400000 522' preserveAspectRatio='xMaxYMin slice'><path d='M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z'/></svg></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.9525600000000001em;vertical-align:0em;"></span><span class="mord mathdefault">λ</span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9525600000000001em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">v</span></span></span><span class="svg-align" style="top:-3.43056em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="height:0.522em;min-width:0.888em;"><svg width='400em' height='0.522em' viewBox='0 0 400000 522' preserveAspectRatio='xMaxYMin slice'><path d='M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z'/></svg></span></span></span></span></span></span></span></span></span></span></p>
<p>我们的原始数据是<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>4</mn><mo>×</mo><mn>3</mn></mrow><annotation encoding="application/x-tex">4 \times 3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">4</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">3</span></span></span></span>的矩阵，假设要降到一维<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>4</mn><mo>×</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">4 \times 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">4</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span>， 则需要将数据投影到第一主成分上，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">[</mo><mn>4</mn><mo>×</mo><mn>3</mn><mo stretchy="false">]</mo><mo>×</mo><mo stretchy="false">[</mo><mn>3</mn><mo>×</mo><mn>1</mn><mo stretchy="false">]</mo><mo>=</mo><mo stretchy="false">[</mo><mn>4</mn><mo>×</mo><mn>1</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[4 \times 3] \times [3 \times 1] = [4 \times 1]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">4</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">3</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">3</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">4</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">]</span></span></span></span>，因此第一主成分特征向量维度为<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>3</mn><mo>×</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">3 \times 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">3</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span>。</p>
<p>但注意，使用的是原始数据减去该特征的平均值后再乘以第一主成分：</p>
<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo fence="true">[</mo><mtable rowspacing="0.15999999999999992em" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mn>5</mn><mo>−</mo><mn>6.5</mn></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mn>3</mn><mo>−</mo><mn>2.5</mn></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mn>2</mn><mo>−</mo><mn>3.5</mn></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mn>6</mn><mo>−</mo><mn>6.5</mn></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mn>2</mn><mo>−</mo><mn>2.5</mn></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mn>1</mn><mo>−</mo><mn>3.5</mn></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mn>4</mn><mo>−</mo><mn>6.5</mn></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mn>3</mn><mo>−</mo><mn>2.5</mn></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mn>4</mn><mo>−</mo><mn>3.5</mn></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mn>8</mn><mo>−</mo><mn>6.5</mn></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mn>4</mn><mo>−</mo><mn>2.5</mn></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mn>3</mn><mo>−</mo><mn>3.5</mn></mrow></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow><annotation encoding="application/x-tex">\begin{bmatrix} 5-6.5 &amp; 3-2.5 &amp; 2-3.5 \\ 6-6.5 &amp; 2-2.5 &amp; 1-3.5 \\ 4-6.5 &amp; 3-2.5 &amp; 4-3.5 \\ 8-6.5 &amp; 4-2.5 &amp; 3-3.5 \end{bmatrix} 
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:4.80204em;vertical-align:-2.15003em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.6520099999999998em;"><span style="top:-1.6499900000000003em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎣</span></span></span><span style="top:-2.80499em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎢</span></span></span><span style="top:-3.40599em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎢</span></span></span><span style="top:-4.65201em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎡</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.15003em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.6500000000000004em;"><span style="top:-4.8100000000000005em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">5</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">6</span><span class="mord">.</span><span class="mord">5</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">6</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">6</span><span class="mord">.</span><span class="mord">5</span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">4</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">6</span><span class="mord">.</span><span class="mord">5</span></span></span><span style="top:-1.2099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">8</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">6</span><span class="mord">.</span><span class="mord">5</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.1500000000000004em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.6500000000000004em;"><span style="top:-4.8100000000000005em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">3</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">2</span><span class="mord">.</span><span class="mord">5</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">2</span><span class="mord">.</span><span class="mord">5</span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">3</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">2</span><span class="mord">.</span><span class="mord">5</span></span></span><span style="top:-1.2099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">4</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">2</span><span class="mord">.</span><span class="mord">5</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.1500000000000004em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.6500000000000004em;"><span style="top:-4.8100000000000005em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">3</span><span class="mord">.</span><span class="mord">5</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">3</span><span class="mord">.</span><span class="mord">5</span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">4</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">3</span><span class="mord">.</span><span class="mord">5</span></span></span><span style="top:-1.2099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">3</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">3</span><span class="mord">.</span><span class="mord">5</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.1500000000000004em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.6520099999999998em;"><span style="top:-1.6499900000000003em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎦</span></span></span><span style="top:-2.80499em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎥</span></span></span><span style="top:-3.40599em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎥</span></span></span><span style="top:-4.65201em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎤</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.15003em;"><span></span></span></span></span></span></span></span></span></span></span></span></p>
<p>接下来通过<code>np.linalg.eig()</code>计算出协方差矩阵的特征值和特征向量：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">a = np.array([[<span class="number">5</span>, <span class="number">3</span>, <span class="number">2</span>], [<span class="number">6</span>, <span class="number">2</span>, <span class="number">1</span>], [<span class="number">4</span>, <span class="number">3</span>, <span class="number">4</span>], [<span class="number">8</span>, <span class="number">4</span>, <span class="number">3</span>]])</span><br><span class="line">eig_values, eig_vectors = np.linalg.eig(np.cov(a.T))</span><br><span class="line"><span class="built_in">print</span>(eig_values)</span><br><span class="line"><span class="comment"># [0.09417879 3.1723972  1.98342402]</span></span><br><span class="line"><span class="built_in">print</span>(eig_vectors, eig_vectors.shape)</span><br><span class="line"><span class="comment"># 输出 </span></span><br><span class="line">[[-<span class="number">0.2799539</span>   <span class="number">0.95365046</span>  <span class="number">0.11034772</span>]</span><br><span class="line">   [ <span class="number">0.84864579</span>  <span class="number">0.19210102</span>  <span class="number">0.49284636</span>]</span><br><span class="line">   [-<span class="number">0.44880524</span> -<span class="number">0.23162038</span>  <span class="number">0.86309087</span>]]  (<span class="number">3</span>, <span class="number">3</span>)</span><br></pre></td></tr></table></figure>
<p>由特征值大小可以发现第二个特征(3.172)为第一主成分，第三个特征(1.983)为第二主成分，第一个特征(0.094)为第三主成分。</p>
<p>通过计算每个组成部分所解释的方差百分比，可知前两个维度已经能代表绝大多数情况了。因此在对特征值排序之后，选择前两个维度，并获得相应的特征向量构成矩阵。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 对特征值与特征向量排序</span></span><br><span class="line">idx = np.argsort(-eig_values)</span><br><span class="line">eig_values = eig_values[idx]</span><br><span class="line">eig_vectors = eig_vectors[:, idx]</span><br><span class="line"></span><br><span class="line"><span class="comment"># 计算方差百分比</span></span><br><span class="line">total_eig_values = np.<span class="built_in">sum</span>(eig_values, axis=<span class="number">0</span>)</span><br><span class="line">eig_values_ratio = eig_values / total_eig_values</span><br><span class="line"><span class="built_in">print</span>(eig_values_ratio)  <span class="comment"># [0.60426613 0.37779505 0.01793882]</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 取前2大的特征值与特征向量</span></span><br><span class="line">eig_values = eig_values[:<span class="number">2</span>]</span><br><span class="line">eig_vectors = eig_vectors[:, :<span class="number">2</span>]</span><br><span class="line"><span class="built_in">print</span>(eig_values, eig_vectors)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 输出</span></span><br><span class="line">[[ <span class="number">0.95365046</span>  <span class="number">0.11034772</span>]</span><br><span class="line"> [ <span class="number">0.19210102</span>  <span class="number">0.49284636</span>]</span><br><span class="line"> [-<span class="number">0.23162038</span>  <span class="number">0.86309087</span>]] </span><br><span class="line"></span><br><span class="line">[<span class="number">3.1723972</span>  <span class="number">1.98342402</span>]</span><br></pre></td></tr></table></figure>
<p>最后将矩阵与特征向量相乘，实现三维到二维的转换：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">trans = np.matmul(a, eig_vectors)</span><br><span class="line">fig = plt.scatter(trans[:, <span class="number">0</span>], trans[:, <span class="number">1</span>], marker=<span class="string">&#x27;o&#x27;</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<p>可以看到，二维坐标原点发生了移动，新坐标系的选择是由数据本身决定的。</p>
<p><img src="https://tva1.sinaimg.cn/large/008i3skNly1gsqvqiqtucj30hs0dcgll.jpg" alt="" /></p>
<p>因此，PCA的大致思路如下：</p>
<ol>
<li>样本中心化：算出数据在每一个维度上的平均值，让该维数值减去这个平均值，中心化不会改变求得的新空间，但会减少计算量。</li>
<li>对中心化后的数据，算出这些数据的协方差矩阵。</li>
<li>对协方差矩阵进行对角化，即算出协方差矩阵的特征值与特征向量。</li>
<li>取特征值大的一些特征向量构成一个矩阵 P，这个矩阵是一个投影矩阵，把原始空间的数据投影到新的空间。</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yluy.gitee.io/2021/07/28/PCA%E5%8E%9F%E7%90%86%E4%B8%8Enumpy%E5%AE%9E%E7%8E%B0/" data-id="clkqxrnon001g1fj4gdal67hl" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E7%AE%80%E5%8D%95/" rel="tag">简单</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-递归深度过大引发的问题" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2021/07/08/%E9%80%92%E5%BD%92%E6%B7%B1%E5%BA%A6%E8%BF%87%E5%A4%A7%E5%BC%95%E5%8F%91%E7%9A%84%E9%97%AE%E9%A2%98/" class="article-date">
  <time datetime="2021-07-08T05:38:23.000Z" itemprop="datePublished">2021-07-08</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/">数据分析</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2021/07/08/%E9%80%92%E5%BD%92%E6%B7%B1%E5%BA%A6%E8%BF%87%E5%A4%A7%E5%BC%95%E5%8F%91%E7%9A%84%E9%97%AE%E9%A2%98/">递归深度过大引发的问题</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>在dfs的时候碰到了两个问题。</p>
<p>首先是递归的次数过多导致报错：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">RuntimeError: maximum recursion depth exceeded。</span><br></pre></td></tr></table></figure>
<p>python默认的递归深度是有限的，大概900多的样子，所以当递归深度超过这个值的时候，就会引发这样的异常。</p>
<p>解决的方法是手工设置递归调用深度，方式为：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line">sys.setrecursionlimit(<span class="number">1000000</span>) <span class="comment">#例如这里设置为一百万</span></span><br></pre></td></tr></table></figure>
<p>第二个引发的问题，是可能内存不足导致栈溢出的报错：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Segmentation fault (core dumped)。</span><br></pre></td></tr></table></figure>
<p>而且它没有其他任何提示，终端上只会出现这一行报错。网上大部分的方法都是更改stack的限制：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ulimit -a</span><br><span class="line">ulimit -S -s unlimited</span><br></pre></td></tr></table></figure>
<p>因为我很清楚是内存不足的问题哈，所以就直接这么解决了。</p>
<p>有的博主好像是因为import包时，顺序出现了问题，需要一个个排查。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yluy.gitee.io/2021/07/08/%E9%80%92%E5%BD%92%E6%B7%B1%E5%BA%A6%E8%BF%87%E5%A4%A7%E5%BC%95%E5%8F%91%E7%9A%84%E9%97%AE%E9%A2%98/" data-id="clkqxrnqq00aa1fj47iysdtw3" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E7%AE%80%E5%8D%95/" rel="tag">简单</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Python实现打印日志到文件类Logging" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2021/07/05/Python%E5%AE%9E%E7%8E%B0%E6%89%93%E5%8D%B0%E6%97%A5%E5%BF%97%E5%88%B0%E6%96%87%E4%BB%B6%E7%B1%BBLogging/" class="article-date">
  <time datetime="2021-07-05T12:28:09.000Z" itemprop="datePublished">2021-07-05</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/">深度学习</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2021/07/05/Python%E5%AE%9E%E7%8E%B0%E6%89%93%E5%8D%B0%E6%97%A5%E5%BF%97%E5%88%B0%E6%96%87%E4%BB%B6%E7%B1%BBLogging/">Python实现打印日志到文件类Logging</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>知识记录：Logging库使用方法简单来说就是提供了一个打印日志的载体（logger），而handler就是这个工具中的模块，具体打印日志是handler决定的（输出地点，格式等等），执行logger相当于执行里头所有的handler（互不干扰）。</p>
<p>功能：在文件当前存储目录下创建Logs文件夹，根据时间（精确到小时）生成日志文件</p>
<p>使用方法：在项目目录创建py文件，将代码copy过去，然后在项目中如果有需要打印日志的地方直接调用对应等级的方法就行。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> logging</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"> </span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Log</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        self.logger = logging.getLogger() <span class="comment">#创建logger</span></span><br><span class="line">        self.logger.setLevel(logging.INFO) <span class="comment">#日志root等级</span></span><br><span class="line">        self.log_path = os.path.dirname(os.path.realpath(__file__)) + <span class="string">&#x27;/Logs/&#x27;</span> <span class="comment">#日志目录</span></span><br><span class="line">        <span class="comment">#日志内容格式</span></span><br><span class="line">        self.formatter = logging.Formatter(<span class="string">&quot;%(asctime)s - %(filename)s[line:%(lineno)d] - %(levelname)s: %(message)s&quot;</span>)</span><br><span class="line">        <span class="keyword">if</span> os.path.exists(self.log_path) == <span class="literal">False</span>: <span class="comment">#目录不存在就创建</span></span><br><span class="line">            os.makedirs(self.log_path)</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">printLog</span>(<span class="params">self,log_type,log_content</span>): <span class="comment">#输出日志</span></span><br><span class="line">        logTime = time.strftime(<span class="string">&#x27;%Y%m%d%H&#x27;</span>, time.localtime(time.time())) <span class="comment">#当前时间到小时</span></span><br><span class="line">        log_file = self.log_path + logTime + <span class="string">&#x27;.log&#x27;</span> <span class="comment">#文件名</span></span><br><span class="line">        <span class="keyword">if</span> os.path.exists(log_file) == <span class="literal">False</span>: <span class="comment">#日志文件不存在就创建</span></span><br><span class="line">            fd = <span class="built_in">open</span>(log_file, mode=<span class="string">&quot;w&quot;</span>, encoding=<span class="string">&quot;utf-8&quot;</span>)</span><br><span class="line">            fd.close()</span><br><span class="line"> </span><br><span class="line">        handler = logging.FileHandler(log_file, mode=<span class="string">&#x27;a&#x27;</span>)</span><br><span class="line">        handler.setLevel(logging.DEBUG)  <span class="comment"># handler的日志等级</span></span><br><span class="line">        handler.setFormatter(self.formatter)  <span class="comment"># 设置日志格式</span></span><br><span class="line">        self.logger.addHandler(handler) <span class="comment">#添加handler</span></span><br><span class="line">        <span class="keyword">if</span> log_type == <span class="number">0</span>:</span><br><span class="line">            self.logger.info(log_content)</span><br><span class="line">        <span class="keyword">elif</span> log_type == <span class="number">1</span>:</span><br><span class="line">            self.logger.warning(log_content)</span><br><span class="line">        <span class="keyword">elif</span> log_type == <span class="number">2</span>:</span><br><span class="line">            self.logger.error(log_content)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            self.logger.critical(log_content)</span><br><span class="line">        self.logger.removeHandler(handler) <span class="comment">#记得删除handler防止重复打印</span></span><br><span class="line"> </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">printInfo</span>(<span class="params">self,log_content</span>):</span><br><span class="line">        self.printLog(<span class="number">0</span>,log_content)</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">printWarning</span>(<span class="params">self,log_content</span>):</span><br><span class="line">        self.printLog(<span class="number">1</span>,log_content)</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">printError</span>(<span class="params">self,log_content</span>):</span><br><span class="line">        self.printLog(<span class="number">2</span>,log_content)</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">printCritical</span>(<span class="params">self,log_content</span>):</span><br><span class="line">        self.printLog(<span class="number">3</span>,log_content)</span><br><span class="line"> </span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    Log = Log()</span><br><span class="line">    Log.printInfo(<span class="string">&#x27;不&#x27;</span>)</span><br><span class="line">    Log.printWarning(<span class="string">&#x27;点&#x27;</span>)</span><br><span class="line">    Log.printError(<span class="string">&#x27;赞&#x27;</span>)</span><br><span class="line">    Log.printCritical(<span class="string">&#x27;吗&#x27;</span>)</span><br><span class="line">    Log.printWarning(<span class="string">&#x27;( ´͈ ᵕ `͈ )◞♡&#x27;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>参考博客：<a target="_blank" rel="noopener" href="https://blog.csdn.net/vocaloid01/article/details/108896540">https://blog.csdn.net/vocaloid01/article/details/108896540</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yluy.gitee.io/2021/07/05/Python%E5%AE%9E%E7%8E%B0%E6%89%93%E5%8D%B0%E6%97%A5%E5%BF%97%E5%88%B0%E6%96%87%E4%BB%B6%E7%B1%BBLogging/" data-id="clkqxrnop001m1fj407hjakp1" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E7%AE%80%E5%8D%95/" rel="tag">简单</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-GauGAN网络结构与代码解析" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2021/06/16/GauGAN%E7%BD%91%E7%BB%9C%E7%BB%93%E6%9E%84%E4%B8%8E%E4%BB%A3%E7%A0%81%E8%A7%A3%E6%9E%90/" class="article-date">
  <time datetime="2021-06-16T06:53:03.000Z" itemprop="datePublished">2021-06-16</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/">深度学习</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2021/06/16/GauGAN%E7%BD%91%E7%BB%9C%E7%BB%93%E6%9E%84%E4%B8%8E%E4%BB%A3%E7%A0%81%E8%A7%A3%E6%9E%90/">GauGAN网络结构与代码解析</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>闲了再记录</p>
<h3 id="参考博客"><a class="markdownIt-Anchor" href="#参考博客"></a> 参考博客</h3>
<ol>
<li><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/75406772">https://zhuanlan.zhihu.com/p/75406772</a></li>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/u014380165/article/details/100110065">https://blog.csdn.net/u014380165/article/details/100110065</a></li>
<li><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/71623130">https://zhuanlan.zhihu.com/p/71623130</a></li>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/iLOVEJohnny/article/details/89367456">https://blog.csdn.net/iLOVEJohnny/article/details/89367456</a></li>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/KongCDY/article/details/100145526">https://blog.csdn.net/KongCDY/article/details/100145526</a></li>
<li><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/151358554">https://zhuanlan.zhihu.com/p/151358554</a></li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yluy.gitee.io/2021/06/16/GauGAN%E7%BD%91%E7%BB%9C%E7%BB%93%E6%9E%84%E4%B8%8E%E4%BB%A3%E7%A0%81%E8%A7%A3%E6%9E%90/" data-id="clkqxrnof000q1fj4bx8l1u1o" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E4%B8%AD%E7%AD%89/" rel="tag">中等</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-阅读记录《最好的告别》" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2021/05/23/%E9%98%85%E8%AF%BB%E8%AE%B0%E5%BD%95%E3%80%8A%E6%9C%80%E5%A5%BD%E7%9A%84%E5%91%8A%E5%88%AB%E3%80%8B/" class="article-date">
  <time datetime="2021-05-23T08:42:40.000Z" itemprop="datePublished">2021-05-23</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E9%98%85%E8%AF%BB%E8%AE%B0%E5%BD%95/">阅读记录</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2021/05/23/%E9%98%85%E8%AF%BB%E8%AE%B0%E5%BD%95%E3%80%8A%E6%9C%80%E5%A5%BD%E7%9A%84%E5%91%8A%E5%88%AB%E3%80%8B/">阅读记录《最好的告别》</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>现实中我们要面对的是疾病、衰老以及死亡。如果你去长辈的家里找找，或者翻翻他们的朋友圈，肯定会找到这样一类书或者文章，里面充满了玄幻风格的养生秘诀，告诉你怎么样学会长寿，或者给他们打鸡血，跟衰老和病魔对抗到底。</p>
<p>这往往让人产生一种幻觉，好像大家都故意去忽略了一个事实，这是一场终将会失败的抵抗。面对这样一个不可避免的结局，很少有人告诉我们什么时候可以放弃抵抗，用生命最后那点时间去抓住你最关心的东西。 也很少有人告诉我们，怎么样坦然地面对死亡。在生命最后阶段怎么样才能获得幸福。当生命的时钟开始倒数的时候，怎么样克服心里的恐惧，好好说再见。</p>
<p>这次共读的书籍是《最好的告别》，作者是美国著名外科医生阿图葛文德。这类非专业作家写的书，既不是单纯的文学作品，也不是医学的学术文章。作者从一个医生的角度，向我们讲述了人们如何一点点衰老，一步步走向死亡。这些类似职业手札的文字，往往带有一些令人着迷的职业独特视角和他们的所思所想。书中探讨了很多美国的养老制度、临终服务，更有很多作者亲身经历的关于临终的案例。细腻又感人。</p>
<p>这些对我们中国现在所面临的紧张医患关系，80、90这一代独生子女家庭的养老问题，可能都会有一些启示。不过虽然书名叫做最好的告别，但是这本书其实不是在探讨死亡本身。我们也不聊死亡这么沉重这么抽象的问题，我这个年龄和这点人生经验有什么资格谈死亡呢。我们今天只是尝试去发现并回答一个一直被我们忽略的问题，是一个非常有现实意义的问题。就是当疾病和衰老将人们推向死亡的时候，如何尽量幸福地走完人生最后一段路。</p>
<p>我相信大多数人对上述的问题并没有清晰的观念，甚至没有细致地思考过。其实我也很意外，正值美好年华的自己会对这些问题的答案有着深切的执着。它们没有标准答案，面对逐渐衰老或突如其来的死亡，恐惧再所难免。有的人愿意散尽家财挽救性命，为了见证尚未成家的孩子早日找到自己的幸福，或是欣赏多彩丰富的世界和近在咫尺的梦想，但同样也会有人不堪高昂的医疗费用和杀伤力极强的治疗，选择拥有尊严地活到生命的终点。</p>
<p>我想咱们在场的人离最后这一阶段还有点远，但身边的亲人或许已经有人步入到或者即将步入到这一阶段。那么对于我们来说，更重要的问题就是，如何陪伴他们、帮助他们、幸福地和这个世界告别。</p>
<hr />
<p>在过去，在现代医学的普及之前，从疾病到死亡一般不是一个漫长的过程，通常很短暂。对于过去的人们，如果我们能画出一个人的健康曲线的话，那么在前面几十年，健康程度都很平稳，只是随着年龄的增加会有稍许下降。可是如果患上重病，从患病开始一直到死亡，这个曲线会有一个非常陡峭的下落，也就是说，健康崩溃的过程非常快，往往只有几天或者几周的时间。所以老人常把一些疾病比喻成人生的一个坎，迈过去呢也就过去了，就不觉得自己是病人了，还是健健康康的继续生活。迈不过的话，人也就没了。</p>
<p>可是在现代医学普及之后，我们的健康曲线发生了两个重要变化。一个是，健康开始走下坡路的时点向后延长了很多，也就是一个人能越来越长久的健康生活。现在七八十岁体格硬朗的老年人有很多，这在过去很难想象，这归功于我们对一些传染性疾病和慢性疾病的有效控制和治疗。</p>
<p>而另一个重要变化则是当人们身患重病或是非常衰老、健康曲线开始明显向下走的时候，我们把这个陡峭的山坡拉长了，变成了一个缓坡。健康程度下降的速度开始变慢，比如面对癌症，虽然不能彻底治愈，但不论手术化疗还是药物，我们已经有很多方法能延长人们的生命。这种演唱不是一秒一秒地加，而是几个月、几年甚至十几年地演唱。</p>
<p>而且当我们仔细去看这条曲线最后一段的时候，会发现哪怕健康程度已经即将触及到死亡，这个曲线仍然还有一段距离才终止，这就是我们通过各种抢救措施，在重症监护病房中，把一些深处重病末期的人、濒死的人，一次又一次地拉了回来。</p>
<p>可以毫无疑问地说，现代医学给我们带来的健康和生命长度的提升是一种恩惠。可问题在于，当医学把生命最后阶段的那个健康曲线，从原本陡峭的山坡变成了一个缓坡之后，我们的社会并没有因此做好准备。我们大部分社会文化其实都在心底隐隐地拒绝生命周期的限定性，不愿意承认衰老和死亡是不可避免的。</p>
<p>在日常生活中，人们也对死避而不谈。即使面对末期病人的时候，哪怕理性告诉我们死亡已经不远，但我们还是会说，没事的你会好起来的。中国有句老话，好死不如赖活。对于临终老人和处于生命末期的患者，我们往往只是一门心思地想着延长生命，像是一味的在把这个下降的曲线拉长再拉长。</p>
<p>可是过度的技术干预，扰乱了患者的心智，削弱了他们的身体。人们在医院的监护室度过最后的时光，这是我们这个时代特有的悲剧，并且已经反复重演了千百万次。濒死的时候，一个人的身上能插得进管子的地方几乎都插满了管子。血液里流着各种各样的药物，皮肤上还有新缝的线。我们利用现代医学和死亡做最后抗争的时候，却疏远了生活中真正关心的人和事，丧失了作为一个人的尊严，也失去了本应该获得的安宁，这样的一切反而又增加了对逝者和亲人的伤害。</p>
<p>医学领域有一句名言，偶尔治愈，时常缓解，总是安慰。我们应当好好领悟这句话的意义。</p>
<hr />
<p>我们已经了解了现代医学是如何彻底地改变了人们面对死亡的进程。那么摆在我们这个时代人们面前的问题就是，在这一条长长的不可逆转的生命下坡路上，我们的亲人最需要的是什么。</p>
<p>对于这个问题，大多数人都给不出回答，只是把命运交给医学技术和陌生人去掌控。</p>
<p>美国曾经做过这样一个调查，问人们这样一个问题。如果有机会和一个人相处一段时间，共度半个小时的时光，可以是你认识的人，也可以是你不认识的，任凭你选，你会选谁。在年轻人当中，答案往往是一些名人啊年轻人之类的，然而老年人选择的往往是自己的亲人。年轻的时候人们更愿意去追求诗和远方，年老了之后就注重眼前的生活和亲情，这个答案并不意外。</p>
<p>然而这项调查还有一个有意思的地方，在年轻人当中有这样一部分群体，就是他们都身患绝症。而这些身患绝症的年轻人所做出的选择几乎和老年人一摸一样，不再关心什么社会热点，也不关心作家明星，只关注身边的亲人。</p>
<p>从这个调查我们可以发现，人们转而关注身边的亲人，其实并不是由年龄变化决定的，而是当生命的脆弱性开始凸显出来的时候，死亡开始靠近的时候，人们生活的目标就开始发生了变化。关注点从诗和远方转向了此时此刻，放在了日常生活的愉悦和最亲近的人身上。这时候那些所谓的野心和虚荣心也都消失了，人们只想要生活的舒适和温情。</p>
<p>书中还提到一个例子，如果你去过养老院，你会发现在里面生活的老人，虽然人还是原来的样子，但是眼中的光芒已经不见了。</p>
<p>美国的一家养老院，为了对抗老人常有的这种厌倦感、孤独感和无助感， 曾经做过这样一个尝试，他们引入了很多植物动物、猫狗和上百只鸟。一段时间后的结果非常令人欣慰，这个养老院的药品使用量下降了六成，死亡率降低了百分之十五。</p>
<p>除了书里的例子和实验，我们中国有的时候会把老师形容为老小孩，是说人上了年纪之后，脾气和秉性反而越来越像小孩子了，也希望得到同情和关爱。</p>
<hr />
<p>以上提到的这些，其实都是在搞清楚我们提的那个问题，人们在生命最后阶段，真正需要的是什么。换句话说，当人们年老体弱不能照顾自己的时候，活下去的动力是什么。这个问题，医生给不出答案，因为医学专注于健康修复，而不是心灵滋养。但也不意味着医学和这个问题没有关系。</p>
<p>作者在书中提到，医生的工作是维护病人的生命质量。 这里的生命质量有两层意思，尽可能免除疾病的困扰，以及维持足够的活力去积极生活。延长生命的目的不是为了单纯的延长生命，而是为了好好活着。</p>
<p>那么生命的最后阶段他们真正需要的是什么呢？我们不需要给出一个鸡汤式的答案，也不想说要多陪伴多理解多关怀，这些词都太空洞了。我们只需要思考这个答案的另一面：他们不要什么？</p>
<p>他们不要只是单纯的延长生命。如果想获得这个问题的答案，需要我们和自己的亲人去沟通，去问他们，此时此刻你最关心的是什么，你最想要的是什么。有的时候，答案可能完全出乎你的意料。</p>
<p>书里一位住在养老院的老人回答这个问题的时候说，护士可以随时进入他的房间，监视和指挥他的一举一动，这不是一个人生活应有的样子。他最想要的是一扇能锁上的门。</p>
<p>其实我们的目标，是把今天过到最好、而不是为了未来牺牲现在。</p>
<hr />
<p>不论现代医学如何延长死亡的进程，人终究还是要踏上那一步去跨过终点。在最终的这个阶段，医生对待患者通常有这样几种模式。</p>
<p>一种是传统的家长型模式，医生是最权威的，医生来做治疗决定，病人只是被动的接受。</p>
<p>另一种是咨询型模式，医生只负责提供讯息，完全让病人做决定，但实际上病人往往很茫然很恐惧，很难做出正确的决定。</p>
<p>以上这两种模式，作者在书中都提出了批评。病人们寻求的，不是医生们没说出口的科学知识，而是那种必须靠自己才能获得的稳妥的真切感。过于深入地谈论数据，就像给干渴的人喂太咸的水，无异于饮鸩止渴。面对死亡产生的那种焦虑，远不是数据上的“概率”可以缓解的。</p>
<p>所以他所提倡的是一种叫做解释型的医患关系，医生和病人共同做决策，而做决策的目的是帮助病人实现最后的治疗目标和生命愿望。这种解释型的医患关系，要求医生充分的了解她的病人，以病人为中心，以病人的愿望为中心。而为了达到这个目标，医生需要和病人进行沟通，进行一种艰难的谈话。</p>
<p>其实这种艰难的谈话，不仅仅是医生，作为亲人和患者自己，也需要有勇气去面对。那就是如果时间不多了，对你来说最重要的是什么，你愿意牺牲掉最后陪伴家人的时光，去换取只是延长一点点生命的可能性吗。你愿意最后身上插满了管子，身边围绕着医护人员，而不是在亲人的陪伴下离世吗。</p>
<p>对于这样的问题，每个人都有自己的答案，这都值得尊重。而问题在于，我们往往没有给患者这样选择的机会，我们这个时代，几乎所有人都在重症监护病房中离世，既没有尊严，也没有临终前的安宁和幸福感。</p>
<p>一个人最终在哪死去，往往和一个国家的医疗发展有着很大的关系。最早在极度贫困的时候，人们得不到专业治疗，大部分都死在家中。后来随着医疗体系逐渐发达，人们就会在医院去世，并且临终前还在和死神做着最后的抗争。因为医学常常创造奇迹，而每一个人都希望自己是那个幸运儿。再后来，随着医学的进一步发展，人们意识到了医学的局限性，而人们也开始关心生命质量，而不仅仅是长度。因此在家中死亡、在亲人陪伴下的比例又开始增高。</p>
<p>这里引入一段《当呼吸化为空气》里的一段话：围绕在床边的家人，看着他们亲爱的人头部面目全非，脑子完全伤成一团糨糊，他们通常也看不到完整的意义。他们看到的是过去，是点点滴滴累积起来的回忆，因为当下遭遇而感受到的更深的爱，全都由眼前这具躯体所代表。</p>
<p>书中其实提到，很多病人在临死前，也就是生命最后一周，会使用一些机械呼吸机、电除颤、胸外按压等干预措施挽救生命，这使得这最后时光的生命质量比不接受干预措施的病人差很多。而且在去世之后的6周，他们的照料者患严重抑郁的可能性大了三倍。</p>
<p>除了选择在什么地方去世之外，我们说的这些艰难的谈话还可以包括很多问题：你现在最害怕的是什么，你最放心不下的人是谁，如果你再次昏迷，你希望我们帮你做出什么样的决定，要不要再去医院。甚至这些问题还可以包括，死后你希望怎么安葬，你希望安葬在什么地方。</p>
<p>我们几乎从来没有和亲人沟通过这样的问题。在生命接近终点的时候，人们更希望去分享自己的记忆，去传承自己的智慧，跟过往的人和事和解，并且还要确定那些留下来的亲人要好好活着。人们还是希望以自己的方式结束自己的故事。可是不论是医生还是亲人，在这样的时刻，总是担心自己做得太少。</p>
<p>可是从另一面来看，做的太多，对一个生命来说同样具有毁灭性。一个人出生时的愉悦和死亡时的安宁坦然都应当成为人生圆满的标志。</p>
<hr />
<h3 id="关于疗养院"><a class="markdownIt-Anchor" href="#关于疗养院"></a> 关于疗养院</h3>
<p>或许你可以试想一下，在我们衰老、脆弱、没人帮助就无法生活的情况下，有什么更好的选择能够帮助自己度过生活。</p>
<p>自从实施计划生育政策以来，多数家庭的孩子都维持在两个以内，可能乍一看没什么问题，但是随着时间的推移，就会发现人口老龄化的情况越来越严重了。因为现阶段的医疗科学技术已经非常发达了，有研究表明全国平均死亡年龄在75岁左右。假设有一位25岁左右的成年人，他的父母健康、年龄大约50岁，父母的父母大概70岁以上，再假设他自己已经组建了一个家庭，这也就意味着这对夫妇至少有一位70岁以上的长辈，多的时候甚至有4位。</p>
<p>这时候难免会出现对老人照顾不来的情况，再加之现如今的疗养院环境逐渐变好，设施完善不说，护工的素质也普遍提高，经济压力小一些的家庭提出了把老人送到疗养院的想法。我们总是主观的认为，疗养院的环境适宜、作息规律、护工尽职，是老人们安度晚年的好去处，做小辈的也可以在平时空闲时间里常去探望。</p>
<p>可是，真的是这样吗？</p>
<p>许多独身老人的日常生活是这样的：早晨早早起床，吃早餐，看报纸，步行去超市采购当天的菜，然后回家做午饭；下午稍晚点儿，他会去镇上的图书馆安静地呆几个小时，或者是去小区中央的的象棋桌上和伙计们下棋。回家后，阅读一本借阅的书籍，打扫卫生，早早睡觉休息。</p>
<p>这一切都相当美好，可这些设想都建立在他们可以自由活动、独立自理的情况下的。要知道衰老的一大特征就是身体开始失去平衡，跌倒是无法阻止的麻烦前奏。一旦老人失去了行动的自由，那么所有讨论都将推翻重来。</p>
<p>《当呼吸化为空气》一书中提到：衰退的机能、无意识的新陈代谢，虽然存在，但已经成为不可承受的重担，一般都要被送往某个机构。那些无法接受也不知如何是好的家人，探望得越来越少，直到褥疮或肺炎无可避免地夺走他的生命。有些人坚守在此生，睁大双眼想活下去，探索各种各样的可能性。但很多人没有这样做，或者说做不到。</p>
<hr />
<h3 id="关于病人家属"><a class="markdownIt-Anchor" href="#关于病人家属"></a> 关于病人家属</h3>
<p>《此生未完成》：其实，家属远远比病人更痛苦，因为病人的苦是肉苦，家属的苦却是心苦。病人生病了可以床上一躺眼睛一闭，而家属却要扛山过海，绞尽脑汁想办法跑路子，自己满肚子苦水，还要强颜欢笑，自己已经郁闷得要撞墙，还要去面对心情更加阴霾的病人，去做病人的心理辅导师。病人家属才是真的苦，才是真的伟大。<br />
作为病人的我们活着，是因为他们的存在。病痛让我们失去一切帮助他们的能力，我们突然从并肩作战的伉俪变成了他们的负担。我们心有愧疚，这种愧疚太过正常，但是不要让这种愧疚成为病人与家属的隔膜和更深重的负担，对家属仁慈，对他们温柔，对他们悲悯，不要去加重他们的心理负担。这是我们仅能做的。</p>
<hr />
<p>生和死是最大的一件事情。我们非常重视生，也不要忽视死。死应该和生是同样重要的。</p>
<p>中国人比较忌讳死亡，忌讳去讨论死亡，凡事和死亡有关的事情都是晦气的。但我们应该要选择有尊严的离开人世。</p>
<p>生命不在于长短，而在于质量。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yluy.gitee.io/2021/05/23/%E9%98%85%E8%AF%BB%E8%AE%B0%E5%BD%95%E3%80%8A%E6%9C%80%E5%A5%BD%E7%9A%84%E5%91%8A%E5%88%AB%E3%80%8B/" data-id="clkqxrnqq00ad1fj49nr44r8a" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%85%B6%E4%BB%96/" rel="tag">其他</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-阅读记录《一个叫欧维的男人决定去死》" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2021/05/10/%E9%98%85%E8%AF%BB%E8%AE%B0%E5%BD%95%E3%80%8A%E4%B8%80%E4%B8%AA%E5%8F%AB%E6%AC%A7%E7%BB%B4%E7%9A%84%E7%94%B7%E4%BA%BA%E5%86%B3%E5%AE%9A%E5%8E%BB%E6%AD%BB%E3%80%8B/" class="article-date">
  <time datetime="2021-05-10T03:30:25.000Z" itemprop="datePublished">2021-05-10</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E7%94%9F%E6%B4%BB%E8%AE%B0%E5%BD%95/">生活记录</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2021/05/10/%E9%98%85%E8%AF%BB%E8%AE%B0%E5%BD%95%E3%80%8A%E4%B8%80%E4%B8%AA%E5%8F%AB%E6%AC%A7%E7%BB%B4%E7%9A%84%E7%94%B7%E4%BA%BA%E5%86%B3%E5%AE%9A%E5%8E%BB%E6%AD%BB%E3%80%8B/">阅读记录《一个叫欧维的男人决定去死》</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <ul>
<li>她是色彩，他全部的色彩</li>
</ul>
<p>我常在悬崖边上走。你轻轻一推我便可以落入黑暗，但你如果愿意拉我一把，我的爱情，连同我整个人，便都是你的。</p>
<ul>
<li>失去某人以后总是会有一些奇怪的细节惹人怀念。都是极小的事情。笑容、她睡眠时翻身的样子。为她粉刷房间。</li>
<li>相信命运，你在生命中走过的每一条道路最终都会带领你到注定的归宿。</li>
<li>“一个人的品质是由他的行为决定的，而不是他说的话。”欧维说。</li>
<li>这是一个还没过期就已经过时的世界。整个国家都在为没人能正经做事起立鼓掌，毫无保留地为平庸欢呼喝彩。</li>
</ul>
<p>欧维还活在匠人世界</p>
<p>我愿意向爱过的人学习那些曾经欣赏他的优点，比如温柔比如细腻。</p>
<ul>
<li>死亡最强大的力量不在于它能让人死去，而在于让留下来的人不想再活着。”——《外婆的道歉信》</li>
<li>他从来就不是那种随心所欲的男人，对女人也没什么特别的兴趣。但看到她以后，他感觉自己就像一把走了火的手枪。</li>
<li>他原路走回火车站，在候车室的一条长凳上躺下睡了一觉。三点一刻，他又按原路走回裁缝店</li>
</ul>
<p>欧维，你虽然看着不慌不忙，但我知道你一定紧张死了，这一路值得回味，而下一站令人期待。<br />
我觉得自己跟你好像，死板枯燥行为单一，又有该死的原则不可跨越。<br />
我甚至能体会到你平静行为下的心理独白，愤愤不平的时候，碰到索雅的时候，重复简单生活的时候，坚守原则的时候。从来没有过，我从来没有在书里碰到过这样的自己。</p>
<ul>
<li>她真诚的笑声让欧维忍不住低下头去踹一脚砾石。</li>
<li>我只是想知道做你的眼中人是什么感觉。</li>
<li>她喜欢他倾听自己说话的样子，也喜欢逗他笑。她说，对于她，这就足够了。</li>
<li>欧维握着她的手坐了几个钟头，直到医院的工作人员跑来，温和而谨慎地向他解释，他们必须抬走她的尸体。于是欧维从椅子上站起来，自顾点点头，去殡仪馆填了些表格。周日是她的葬礼。周一他按时上了班。</li>
</ul>
<p>生活中唯一的彩色没有了，一切重回黑暗。忙碌是最好的麻痹工具。</p>
<ul>
<li>要是有人问起，他会说，在她之前，他没有生活。之后也没有。</li>
<li>直到这个顽固的男孩露出笑容，就像包裹在珠宝周围的石膏模具碎裂开来。</li>
<li>有人说最优秀的人是从错误中重生的，他们后来通常比那些从没有犯过错误的人更优秀。</li>
<li>“这个世界上能成长为优秀的人类的，一定是那些曾经迷失过的人，而非那些在人生中从未迷失过的人。”——《那不勒斯的萤火》</li>
<li>当一个人给另一个人钱，蒙福的不是那个收钱的人，而是给钱的那个。</li>
<li>不管忙着生存还是死亡，欧维。我们都必须继续走下去。</li>
<li>如果两个人不分担这份悲伤，就会被这悲伤分开。</li>
<li>对死亡最大的恐惧，在于它与我们擦肩而过，留下我们独自一人</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yluy.gitee.io/2021/05/10/%E9%98%85%E8%AF%BB%E8%AE%B0%E5%BD%95%E3%80%8A%E4%B8%80%E4%B8%AA%E5%8F%AB%E6%AC%A7%E7%BB%B4%E7%9A%84%E7%94%B7%E4%BA%BA%E5%86%B3%E5%AE%9A%E5%8E%BB%E6%AD%BB%E3%80%8B/" data-id="clkqxrnqp00a81fj4dd7reeej" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%85%B6%E4%BB%96/" rel="tag">其他</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Mac升级BigSur后提示没有权限打开应用程序" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2021/05/05/Mac%E5%8D%87%E7%BA%A7BigSur%E5%90%8E%E6%8F%90%E7%A4%BA%E6%B2%A1%E6%9C%89%E6%9D%83%E9%99%90%E6%89%93%E5%BC%80%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F/" class="article-date">
  <time datetime="2021-05-05T13:03:51.000Z" itemprop="datePublished">2021-05-05</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2021/05/05/Mac%E5%8D%87%E7%BA%A7BigSur%E5%90%8E%E6%8F%90%E7%A4%BA%E6%B2%A1%E6%9C%89%E6%9D%83%E9%99%90%E6%89%93%E5%BC%80%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F/">Mac升级BigSur后提示没有权限打开应用程序</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Mac升级成BigSur之后打开Pycharm，发现报错“您没有权限打开…”，类似于：</p>
<p><img src="https://tva1.sinaimg.cn/large/008i3skNly1gq7un3cuehj30s70eqmyl.jpg" alt="" /></p>
<p>全网搜到的都是使用upx来解决，但是我的失效了哈，所以只能通过修改权限来解决了。</p>
<p>我的解决方案是这样的：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo xattr -rd com.apple.quarantine /Applications/pycharm.app</span><br></pre></td></tr></table></figure>
<p>其中pycharm是软件名称。</p>
<p>迅速完美解决 hhh~</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yluy.gitee.io/2021/05/05/Mac%E5%8D%87%E7%BA%A7BigSur%E5%90%8E%E6%8F%90%E7%A4%BA%E6%B2%A1%E6%9C%89%E6%9D%83%E9%99%90%E6%89%93%E5%BC%80%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F/" data-id="clkqxrnoo001k1fj45ci17w9k" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E4%B8%AD%E7%AD%89/" rel="tag">中等</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-语义分割常用数据集ADE20K与Cityscapes" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2021/04/29/%E8%AF%AD%E4%B9%89%E5%88%86%E5%89%B2%E5%B8%B8%E7%94%A8%E6%95%B0%E6%8D%AE%E9%9B%86ADE20K%E4%B8%8ECityscapes/" class="article-date">
  <time datetime="2021-04-29T02:44:19.000Z" itemprop="datePublished">2021-04-29</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/">深度学习</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2021/04/29/%E8%AF%AD%E4%B9%89%E5%88%86%E5%89%B2%E5%B8%B8%E7%94%A8%E6%95%B0%E6%8D%AE%E9%9B%86ADE20K%E4%B8%8ECityscapes/">语义分割常用数据集ADE20K与Cityscapes</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="ade20k"><a class="markdownIt-Anchor" href="#ade20k"></a> ADE20K</h2>
<p><strong>项目地址</strong>：<a target="_blank" rel="noopener" href="https://github.com/CSAILVision/ADE20K">https://github.com/CSAILVision/ADE20K</a></p>
<p><strong>数据规模</strong>：</p>
<ul>
<li>训练集：25574；验证集：2K；测试集：3K</li>
<li>内容：365个场景；3688个类别。</li>
</ul>
<p>ADE20K 的数据集，可用于场景感知、解析、分割、多物体识别和语义理解。</p>
<p>图像涵盖了SUN和Places数据集中的场景，官网可视化给出了目标、部件和注释示例的数量的列表。</p>
<p>树状表只展示了带有超过 250 个注解示例的目标，以及带有超过 10 个注解示例的部件。</p>
<p><img src="https://tva1.sinaimg.cn/large/008i3skNly1gq0eab53lfj30l6048dgf.jpg" alt="" /></p>
<p>一些类别可以既是目标，也是部件。例如，一个「门」可以是一个目标（在一张室内图片中）或者一个部件（当它是车的一个门时）。一些目标经常是部件（比如一条腿、一只手），尽管在某些情况下它们看起来与整体是相互独立的（比如车库中的汽车轮子）。</p>
<p>而有些目标则永远不是部件（比如一个人，一辆卡车等等）。依据于部件所属的目标，相同的名称类别（比如门）可对应于若干个视觉范畴。例如，一个汽车的门从视觉上看是不同于一个橱柜的门的。然而它们也共享一些相似的可供性（affordance）。</p>
<p>当目标不是另一个目标的一个部件时，其分割掩码将出现在 * _seg.png 内。</p>
<p>如果分类是一个部件，则分割掩码将出现在 * _seg_parts.png 内。正确检测目标需要区分目标是否表现为独立目标，或者是否是另一目标的一个部件。</p>
<p><img src="https://tva1.sinaimg.cn/large/008i3skNly1gq0egidnxkj30od0b1n08.jpg" alt="" /></p>
<h2 id="cityscapes"><a class="markdownIt-Anchor" href="#cityscapes"></a> Cityscapes</h2>
<p><strong>项目地址</strong>：<a target="_blank" rel="noopener" href="https://www.cityscapes-dataset.com/dataset-overview/#class-definitions">https://www.cityscapes-dataset.com/dataset-overview/#class-definitions</a></p>
<p><strong>数据规模</strong>：</p>
<ul>
<li>训练集：2975；验证集：500；测试集：1525</li>
<li>内容：50个城市，30个类别</li>
</ul>
<p><img src="https://tva1.sinaimg.cn/large/008i3skNly1gq0ej7g7k4j30wk0bhjs9.jpg" alt="" /></p>
<p>Cityscapes数据集包含2975张图片。包含了街景图片和对应的标签。大小为113MB。Cityscapes数据集，包含戴姆勒在内的三家德国单位联合提供，包含50多个城市的立体视觉数据。</p>
<p><img src="https://img-blog.csdnimg.cn/20190402154219719.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly95dW55YW5pdS5ibG9nLmNzZG4ubmV0,size_16,color_FFFFFF,t_70" alt="img" /></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yluy.gitee.io/2021/04/29/%E8%AF%AD%E4%B9%89%E5%88%86%E5%89%B2%E5%B8%B8%E7%94%A8%E6%95%B0%E6%8D%AE%E9%9B%86ADE20K%E4%B8%8ECityscapes/" data-id="clkqxrnqp00a51fj4fkel3t9i" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E4%B8%AD%E7%AD%89/" rel="tag">中等</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Sketch-Simplification线稿简化" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2021/04/21/Sketch-Simplification%E7%BA%BF%E7%A8%BF%E7%AE%80%E5%8C%96/" class="article-date">
  <time datetime="2021-04-21T03:03:58.000Z" itemprop="datePublished">2021-04-21</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E5%9B%BE%E5%83%8F%E5%A4%84%E7%90%86/">图像处理</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2021/04/21/Sketch-Simplification%E7%BA%BF%E7%A8%BF%E7%AE%80%E5%8C%96/">Sketch_Simplification线稿简化</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>之前做了一个尝试性实验，把彩色图片转化为素描图，再进行线稿简化。</p>
<p>叶老师不愧是最爱提问的导师，一个问题又把我整懵的hhh</p>
<p>这篇总结依旧是为了解决上次组会的遗留问题，对Sketch Simplification的处理结果进行分析</p>
<h3 id="sketch-simplification"><a class="markdownIt-Anchor" href="#sketch-simplification"></a> Sketch Simplification</h3>
<p><strong>相关论文</strong>：</p>
<p>V1：《Learning to Simplify: Fully Convolutional Networks for Rough Sketch Cleanup》SIGGRAPH 2016</p>
<p>V3：《Mastering Sketching: Adversarial Augmentation for Structured Prediction》ACM2018</p>
<p>这位作者都把线稿简化迭代到第三个版本了 每次都顶刊</p>
<p><strong>实验网站</strong>：<a target="_blank" rel="noopener" href="https://sketch.esslab.jp/">https://sketch.esslab.jp/</a></p>
<p><strong>测试代码</strong>：<a target="_blank" rel="noopener" href="https://github.com/bobbens/sketch_simplification">https://github.com/bobbens/sketch_simplification</a></p>
<p><strong>网络结构</strong>：</p>
<p>![image-20210421110057075](/Users/sonata/Library/Application Support/typora-user-images/image-20210421110057075.png)</p>
<h3 id="introduction"><a class="markdownIt-Anchor" href="#introduction"></a> Introduction</h3>
<p>线稿简化最直接的目标是对手工绘制的草图进行线条处理，把图片中的一些辅助线去掉，得到干净的手绘图。例如下图的Input 和 Ours。</p>
<p><img src="https://tva1.sinaimg.cn/large/008eGmZEly1gpr3wilb0pj30yr0cn7dp.jpg" alt="" /></p>
<p>而在一些Image Colorizaiton的处理过程中，经常要先得到某张彩色图片的线稿图，然后以此为参考基础进行深度网络的图像上色，这通常要求线稿是干净、少阴影的。比如左图就很清晰干净。</p>
<p><img src="https://tva1.sinaimg.cn/large/008eGmZEly1gpr3z27xohj30gz0c1gt2.jpg" alt="" /></p>
<p>所以很多上色论文的第一步是得到Sketch Database，也就是对原图进行线稿提取。</p>
<p>目前比较常用的线稿提取方式有XDoG和PhotoShop，事实证明Adobe永远的神！</p>
<h3 id="xdog"><a class="markdownIt-Anchor" href="#xdog"></a> XDoG</h3>
<p>高斯差分(Difference of Gaussians，DoG)是基于二阶导数的边缘检测方法，对图像中每个像素点的局部邻域求二阶导的过零点，得到1-2 个像素宽度的细边缘，但是DoG 算子难以检测边缘强度低的弱边缘，导致提取结果出现很多断裂的碎线条。扩展高斯差分(Extended Difference of Gaussians，XDoG）是对DoG 的改进，通过设置阈值的方法检测出弱边缘，得到连续的轮廓线条，提高边缘检测精度。</p>
<p>目前很多的上色论文都是采用XDoG 边缘检测算子提取图像的边缘轮廓，XDoG可以确定生成结果笔划的粗细。</p>
<p><img src="https://tva1.sinaimg.cn/large/008eGmZEly1gpr4rq4ui4j30ge0be0yo.jpg" alt="" /></p>
<p>我放一张之后会用到的线稿提取结果图：</p>
<p><img src="https://tva1.sinaimg.cn/large/008eGmZEly1gpr4za0i7zj307m07mdg3.jpg" alt="" /></p>
<p><img src="https://tva1.sinaimg.cn/large/008eGmZEly1gpr4y47onwj30620610t1.jpg" alt="" /></p>
<p>观察发现，XDoG处理后的线稿图，笔触较深较粗，而且细节部分、辅助线和阴影部分几乎没有。</p>
<h3 id="photoshop"><a class="markdownIt-Anchor" href="#photoshop"></a> PhotoShop</h3>
<p>关于如何利用PS将图片转化为线稿：<a target="_blank" rel="noopener" href="https://jingyan.baidu.com/article/295430f138a3da4d7f005035.html">https://jingyan.baidu.com/article/295430f138a3da4d7f005035.html</a></p>
<p><img src="https://tva1.sinaimg.cn/large/008eGmZEly1gpr4ycl850j3061060gmk.jpg" alt="" /></p>
<p>其实我们会发现，PS处理后的线稿图更符合我们人为绘制的结果，有参考线和适当的阴影线条，可以偷偷预测一下，它最后的实验效果是更好的！</p>
<h3 id="simplification"><a class="markdownIt-Anchor" href="#simplification"></a> Simplification</h3>
<p>我直接使用网站进行线稿简化处理操作，测试了几种粗细结果：</p>
<p><strong>笔触由粗到细的使用XDoG处理</strong></p>
<p><img src="https://tva1.sinaimg.cn/large/008eGmZEly1gpr5akcq0rj30dd0j9tez.jpg" alt="" /></p>
<p>突然发现这个对比不太明显，临时换一张- - …</p>
<p><img src="https://tva1.sinaimg.cn/large/008eGmZEly1gpr5lc4sjnj30t00j5dmb.jpg" alt="" /></p>
<p>经过观察后现在，这个简化效果呈<strong>波动的效果</strong>。</p>
<p>假设原图的笔触粗细为<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>T</mi></mrow><annotation encoding="application/x-tex">T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span></span></span></span>，目标笔触为<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>T</mi><mo mathvariant="normal">′</mo></msup></mrow><annotation encoding="application/x-tex">T&#x27;</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.751892em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span>。我们对每张图的框线部分做一个比较。</p>
<ol>
<li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>T</mi><mo mathvariant="normal">′</mo></msup><mo>&gt;</mo><mi>T</mi></mrow><annotation encoding="application/x-tex">T&#x27; &gt; T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.790992em;vertical-align:-0.0391em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span></span></span></span>时，生成结果略去了一些不必要的细节，还把左侧一些断线的部分给连上了，整体来说结果较好，但是左上角的“罗小黑战记”的字样就直接被省略了。</li>
<li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>T</mi><mo mathvariant="normal">′</mo></msup><mo>≈</mo><mi>T</mi></mrow><annotation encoding="application/x-tex">T&#x27; \approx T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.751892em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span></span></span></span>时，几乎没有剩下什么连续的线条了。</li>
<li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>T</mi><mo mathvariant="normal">′</mo></msup><mo>&lt;</mo><mi>T</mi></mrow><annotation encoding="application/x-tex">T&#x27; &lt; T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.790992em;vertical-align:-0.0391em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span></span></span></span>时，细节保留的很好，左上角的字样也保存了，但是有个缺点就是，整个线稿看上去比较“脏”。</li>
</ol>
<p>所以整个简化过程，受到笔触的影响较深。细的保留细节，粗的保留轮廓，有个临界点会导致大部分线稿直接消失。</p>
<p><strong>笔触由细到粗的使用PhotoShop进行处理</strong></p>
<p><img src="https://tva1.sinaimg.cn/large/008eGmZEly1gpr60l79tgj30k90nek3c.jpg" alt="" /></p>
<p>几乎可以验证上面的结论，因为左边的线稿图笔触很浅，所以当我把选择的笔触很细的时候，直接导致整张图片的简化直接失败。反倒是倒数第二张的效果是最好的，因为它的粗细适中。</p>
<h3 id="conclusion"><a class="markdownIt-Anchor" href="#conclusion"></a> Conclusion</h3>
<p>所以总结分析可能导致线稿简化效果区别明显的原因：</p>
<p><strong>为什么PS得到的简化效果较好？</strong></p>
<ul>
<li>来自训练数据集的影响：训练的数据集来自真实的手绘线稿图，笔触清晰，包含辅助线、阴影等细节信息，同时笔触也比较细。PS的提取结果和训练集比较相似，因此简化效果较好。</li>
<li>目标笔触的选择：网站通常会初始化一个目标笔触，它肯定是经过训练之后观察到的效果最好的粗细度。所以PS的线稿提取图和它比较匹配。</li>
</ul>
<p><strong>XDoG效果为啥一般？</strong></p>
<p>其实也不一般，只不过使XDoG转换效果较好的目标笔触要么较高，要么很低，因为它本身就有很多细节的缺失。目标笔触的选择实在是很重要啊。</p>
<p>好的，捋顺了，立刻停止交易！</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yluy.gitee.io/2021/04/21/Sketch-Simplification%E7%BA%BF%E7%A8%BF%E7%AE%80%E5%8C%96/" data-id="clkqxrnot00241fj4ciqq126w" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E4%B8%AD%E7%AD%89/" rel="tag">中等</a></li></ul>

    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    
    <a class="extend prev" rel="prev" href="/page/2/">&amp;laquo; Prev</a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><span class="page-number current">3</span><a class="page-number" href="/page/4/">4</a><a class="page-number" href="/page/5/">5</a><span class="space">&hellip;</span><a class="page-number" href="/page/9/">9</a><a class="extend next" rel="next" href="/page/4/">Next &amp;raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%89%8D%E7%AB%AF/">前端</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%89%8D%E7%AB%AF/JavaScript/">JavaScript</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%9B%BE%E5%83%8F%E5%A4%84%E7%90%86/">图像处理</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%9B%BE%E5%83%8F%E5%A4%84%E7%90%86/openCV/">openCV</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/">数据分析</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/">数据库</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/">机器学习</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E5%85%AC%E5%BC%8F%E6%8E%A8%E5%AF%BC/">公式推导</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E7%AE%97%E6%B3%95%E5%8E%9F%E7%90%86/">算法原理</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/">深度学习</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%94%9F%E6%B4%BB%E8%AE%B0%E5%BD%95/">生活记录</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%96%91%E9%9A%BE%E6%9D%82%E7%97%87/">疑难杂症</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%AE%97%E6%B3%95/">算法</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%AE%97%E6%B3%95/%E4%BA%8C%E5%8F%89%E6%A0%91/">二叉树</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%AE%97%E6%B3%95/%E4%BD%8D%E8%BF%90%E7%AE%97/">位运算</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%AE%97%E6%B3%95/%E5%88%B7%E9%A2%98%E8%AE%B0%E5%BD%95/">刷题记录</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%AE%97%E6%B3%95/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/">动态规划</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%AE%97%E6%B3%95/%E5%9B%BE%E8%AE%BA/">图论</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%AE%97%E6%B3%95/%E5%B9%B6%E6%9F%A5%E9%9B%86/">并查集</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%AE%97%E6%B3%95/%E6%8E%92%E5%BA%8F/">排序</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%AE%97%E6%B3%95/%E6%A0%88%E5%92%8C%E9%98%9F%E5%88%97/">栈和队列</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%AE%97%E6%B3%95/%E8%B4%AA%E5%BF%83%E7%AE%97%E6%B3%95/">贪心算法</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%AE%97%E6%B3%95/%E9%93%BE%E8%A1%A8/">链表</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E9%98%85%E8%AF%BB%E7%AC%94%E8%AE%B0/">阅读笔记</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/%E9%98%85%E8%AF%BB%E7%AC%94%E8%AE%B0/%E8%AE%BA%E6%96%87/">论文</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E9%98%85%E8%AF%BB%E8%AE%B0%E5%BD%95/">阅读记录</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/CVPR/" rel="tag">CVPR</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Colorization/" rel="tag">Colorization</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/GAN/" rel="tag">GAN</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Leetcode/" rel="tag">Leetcode</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SIGGRAPH/" rel="tag">SIGGRAPH</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/bash/" rel="tag">bash</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/todoList/" rel="tag">todoList</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%B8%AD%E7%AD%89/" rel="tag">中等</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%85%B6%E4%BB%96/" rel="tag">其他</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%9B%B0%E9%9A%BE/" rel="tag">困难</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%9B%BE%E5%83%8F%E7%BF%BB%E8%AF%91/" rel="tag">图像翻译</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%96%87%E6%9C%AC%E5%9B%BE%E5%83%8F%E7%94%9F%E6%88%90/" rel="tag">文本图像生成</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C/" rel="tag">神经网络</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%AE%80%E5%8D%95/" rel="tag">简单</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%B5%84%E6%96%99/" rel="tag">资料</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/CVPR/" style="font-size: 12.5px;">CVPR</a> <a href="/tags/Colorization/" style="font-size: 15px;">Colorization</a> <a href="/tags/GAN/" style="font-size: 15px;">GAN</a> <a href="/tags/Leetcode/" style="font-size: 10px;">Leetcode</a> <a href="/tags/SIGGRAPH/" style="font-size: 10px;">SIGGRAPH</a> <a href="/tags/bash/" style="font-size: 10px;">bash</a> <a href="/tags/todoList/" style="font-size: 10px;">todoList</a> <a href="/tags/%E4%B8%AD%E7%AD%89/" style="font-size: 20px;">中等</a> <a href="/tags/%E5%85%B6%E4%BB%96/" style="font-size: 15px;">其他</a> <a href="/tags/%E5%9B%B0%E9%9A%BE/" style="font-size: 10px;">困难</a> <a href="/tags/%E5%9B%BE%E5%83%8F%E7%BF%BB%E8%AF%91/" style="font-size: 10px;">图像翻译</a> <a href="/tags/%E6%96%87%E6%9C%AC%E5%9B%BE%E5%83%8F%E7%94%9F%E6%88%90/" style="font-size: 10px;">文本图像生成</a> <a href="/tags/%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C/" style="font-size: 12.5px;">神经网络</a> <a href="/tags/%E7%AE%80%E5%8D%95/" style="font-size: 17.5px;">简单</a> <a href="/tags/%E8%B5%84%E6%96%99/" style="font-size: 10px;">资料</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/07/">July 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/03/">March 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/12/">December 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/11/">November 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/09/">September 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/08/">August 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/07/">July 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/06/">June 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/05/">May 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/04/">April 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/01/">January 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/12/">December 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/11/">November 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/10/">October 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/09/">September 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/08/">August 2020</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2023/07/31/Hexo-%E6%97%A0%E6%B3%95%E5%8A%A0%E8%BD%BD%E5%9B%BE%E5%BA%8A%E5%9B%BE%E7%89%87/">Hexo 无法加载图床图片</a>
          </li>
        
          <li>
            <a href="/2022/03/14/Javascript%E4%BD%9C%E7%94%A8%E5%9F%9F%E4%B8%8E%E9%97%AD%E5%8C%85/">Javascript作用域与闭包</a>
          </li>
        
          <li>
            <a href="/2022/03/14/Javascript%E5%8E%9F%E5%9E%8B%E4%B8%8E%E5%8E%9F%E5%9E%8B%E9%93%BE/">Javascript原型与原型链</a>
          </li>
        
          <li>
            <a href="/2022/03/14/Javascript%E5%BC%82%E6%AD%A5%E7%BC%96%E7%A8%8B/">Javascript异步编程</a>
          </li>
        
          <li>
            <a href="/2021/12/17/%E5%86%B3%E7%AD%96%E6%A0%91%E7%AC%94%E8%AE%B0/">决策树笔记</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2023 Sonata<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  
<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">

  
<script src="/fancybox/jquery.fancybox.pack.js"></script>




<script src="/js/script.js"></script>




  </div>
</body>
</html>